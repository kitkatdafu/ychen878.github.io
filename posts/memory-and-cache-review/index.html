<!doctype html><html lang=en-us>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> Memory and Cache Review | XIAOYIJ</title>
<link rel=canonical href=https://ychen878.github.io/posts/memory-and-cache-review/>
<meta name=description content="This is my website">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="Memory and Cache Review">
<meta property="og:description" content="Locality  Principle of locality  Programs tend to use data and instructions with addresses near or equal to those they have recently used.
  temporal locality   Recently referenced items are likely to be referenced again in the near future.
  spatial locality   Items with nearby addresses tend to be referenced close together in time.
    Locality Example  1sum = 0; 2for (int i = 0; i < n; i++) 3 sum += a[i]; 4return sum;  Data References    Reference array elements in succession (stride - 1 reference pattern).">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ychen878.github.io/posts/memory-and-cache-review/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-10-11T00:00:00+00:00">
<meta property="article:modified_time" content="2019-10-11T00:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Memory and Cache Review">
<meta name=twitter:description content="Locality  Principle of locality  Programs tend to use data and instructions with addresses near or equal to those they have recently used.
  temporal locality   Recently referenced items are likely to be referenced again in the near future.
  spatial locality   Items with nearby addresses tend to be referenced close together in time.
    Locality Example  1sum = 0; 2for (int i = 0; i < n; i++) 3 sum += a[i]; 4return sum;  Data References    Reference array elements in succession (stride - 1 reference pattern).">
<link rel=stylesheet href=https://ychen878.github.io/css/styles.4c2b9aa1d874d6766f554b2d404e8fd62ab4761f51ee9b3f358d12e81e7fa43a1b4378db995bc1926bbe5ed98c060be5e7bd4f2470504cf94f22b4b3a74e62b6.css integrity="sha512-TCuaodh01nZvVUstQE6P1iq0dh9R7ps/NY0S6B5/pDobQ3jbmVvBkmu+XtmMBgvl571PJHBQTPlPIrSzp05itg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=https://ychen878.github.io/images/favicon.ico>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=https://ychen878.github.io/posts/django_note/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=https://ychen878.github.io/posts/cs538/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&text=Memory%20and%20Cache%20Review" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&title=Memory%20and%20Cache%20Review" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&is_video=false&description=Memory%20and%20Cache%20Review" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Memory%20and%20Cache%20Review&body=Check out this article: https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&title=Memory%20and%20Cache%20Review" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&title=Memory%20and%20Cache%20Review" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&name=Memory%20and%20Cache%20Review&description=Locality%20%20Principle%20of%20locality%20%20Programs%20tend%20to%20use%20data%20and%20instructions%20with%20addresses%20near%20or%20equal%20to%20those%20they%20have%20recently%20used.%0a%20%20temporal%20locality%20%20%20Recently%20referenced%20items%20are%20likely%20to%20be%20referenced%20again%20in%20the%20near%20future.%0a%20%20spatial%20locality%20%20%20Items%20with%20nearby%20addresses%20tend%20to%20be%20referenced%20close%20together%20in%20time.%0a%20%20%20%20Locality%20Example%20%201sum%20%3d%200%3b%202for%20%28int%20i%20%3d%200%3b%20i%20%26lt%3b%20n%3b%20i%2b%2b%29%203%20sum%20%2b%3d%20a%5bi%5d%3b%204return%20sum%3b%20%20Data%20References%20%20%20%20Reference%20array%20elements%20in%20succession%20%28stride%20-%201%20reference%20pattern%29." aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&t=Memory%20and%20Cache%20Review" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#headline-1>Locality</a>
<ul>
<li><a href=#headline-2>Principle of locality</a>
</li>
<li><a href=#headline-3>Locality Example</a>
<ul>
<li><a href=#headline-4>Data References</a>
</li>
<li><a href=#headline-5>Instructions References</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#headline-6>Cache</a>
<ul>
<li><a href=#headline-7>Fundamental idea of a memory hierarchy</a>
</li>
<li><a href=#headline-8>Why do memory hierarchies work?</a>
</li>
<li><a href=#headline-9>Big Idea</a>
</li>
<li><a href=#headline-10>Hit</a>
</li>
<li><a href=#headline-11>Miss</a>
<ul>
<li><a href=#headline-12>Cold miss</a>
</li>
<li><a href=#headline-13>Conflict miss</a>
</li>
<li><a href=#headline-14>Capacity miss</a>
</li>
<li><a href=#headline-15>Placement policy</a>
</li>
<li><a href=#headline-16>Replacement policy</a>
</li>
<li><a href=#headline-17>General Cache Organization (S, E, B)</a>
<ul>
<li><a href=#headline-18>Address of word</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#headline-19>Direct Mapped Cache</a>
</li>
<li><a href=#headline-20>E-way Set Associative Cache</a>
</li>
</ul>
</li>
<li><a href=#headline-21>Writing</a>
<ul>
<li><a href=#headline-22>What to do on a write-hit?</a>
</li>
<li><a href=#headline-23>What to do on a write-miss?</a>
</li>
<li><a href=#headline-24>Typical combination</a>
</li>
</ul>
</li>
<li><a href=#headline-25>Cache performance Metrics</a>
<ul>
<li><a href=#headline-26>Miss Rate</a>
</li>
<li><a href=#headline-27>Hit Time</a>
</li>
<li><a href=#headline-28>Miss Penalty</a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
Memory and Cache Review
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2019-10-11 00:00:00 +0000 UTC" itemprop=datePublished>2019-10-11</time>
</div>
<div class=article-read-time>
<i class="far fa-clock"></i>
4 minute read
</div>
<div class=article-category>
<i class="fas fa-archive"></i>
<a class=category-link href=/categories/cs>CS</a>
,
<a class=category-link href=/categories/os>OS</a>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/c rel=tag>C</a>
,
<a class=tag-link href=/tags/cache rel=tag>Cache</a>
,
<a class=tag-link href=/tags/memory rel=tag>Memory</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<div id=outline-container-headline-1 class=outline-2>
<h2 id=headline-1>
Locality
</h2>
<div id=outline-text-headline-1 class=outline-text-2>
<div id=outline-container-headline-2 class=outline-3>
<h3 id=headline-2>
Principle of locality
</h3>
<div id=outline-text-headline-2 class=outline-text-3>
<p>Programs tend to use data and instructions with addresses near or equal to those they have recently used.</p>
<dl>
<dt>
temporal locality
</dt>
<dd>
<p>Recently referenced items are likely to be referenced again in the near future.</p>
</dd>
<dt>
spatial locality
</dt>
<dd>
<p>Items with nearby addresses tend to be referenced close together in time.</p>
</dd>
</dl>
</div>
</div>
<div id=outline-container-headline-3 class=outline-3>
<h3 id=headline-3>
Locality Example
</h3>
<div id=outline-text-headline-3 class=outline-text-3>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>sum <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> n; i<span style=color:#ff79c6>++</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>    sum <span style=color:#ff79c6>+=</span> a[i];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span style=color:#ff79c6>return</span> sum;</code></pre></div>
</div>
<div id=outline-container-headline-4 class=outline-4>
<h4 id=headline-4>
Data References
</h4>
<div id=outline-text-headline-4 class=outline-text-4>
<ul>
<li>
<p>Reference array elements in succession (stride - 1 reference pattern). <strong>spatial locality</strong></p>
</li>
<li>
<p>Reference variable <code class=verbatim>=sum=</code> each iteration. <strong>temporal locality</strong></p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-5 class=outline-4>
<h4 id=headline-5>
Instructions References
</h4>
<div id=outline-text-headline-5 class=outline-text-4>
<ul>
<li>
<p>Reference instructions in sequence. <strong>spatial locality</strong></p>
</li>
<li>
<p>Cycle through loop repeatedly. <strong>temporal locality</strong></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-6 class=outline-2>
<h2 id=headline-6>
Cache
</h2>
<div id=outline-text-headline-6 class=outline-text-2>
<dl>
<dt>
cache
</dt>
<dd>
<p>A smaller, faster storage device that acts as a staging area for a subset of the data in a larger, slower device.</p>
</dd>
</dl>
<div id=outline-container-headline-7 class=outline-3>
<h3 id=headline-7>
Fundamental idea of a memory hierarchy
</h3>
<div id=outline-text-headline-7 class=outline-text-3>
<p>For each k, the faster, smaller device at level k servers as a cache for the larger, slower device at level k + 1.</p>
</div>
</div>
<div id=outline-container-headline-8 class=outline-3>
<h3 id=headline-8>
Why do memory hierarchies work?
</h3>
<div id=outline-text-headline-8 class=outline-text-3>
<ul>
<li>
<p>Because of locality, programs tend to access the data at level k more often than they access the data at level k + 1.</p>
</li>
<li>
<p>Thus, the storage at level k + 1 can be slower, and thus larger and cheaper per bit.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-9 class=outline-3>
<h3 id=headline-9>
Big Idea
</h3>
<div id=outline-text-headline-9 class=outline-text-3>
<p>The memory hierarchy creates a large pool of storage that costs as much as the cheap storage near the bottom, but that serves data to programs at the rate of fast storage near the top.</p>
</div>
</div>
<div id=outline-container-headline-10 class=outline-3>
<h3 id=headline-10>
Hit
</h3>
<div id=outline-text-headline-10 class=outline-text-3>
<p>Block looking for is in cache</p>
</div>
</div>
<div id=outline-container-headline-11 class=outline-3>
<h3 id=headline-11>
Miss
</h3>
<div id=outline-text-headline-11 class=outline-text-3>
<p>Block looking for is not in cache</p>
<div id=outline-container-headline-12 class=outline-4>
<h4 id=headline-12>
Cold miss
</h4>
<div id=outline-text-headline-12 class=outline-text-4>
<p>Cold misses occur because the cache is empty.</p>
</div>
</div>
<div id=outline-container-headline-13 class=outline-4>
<h4 id=headline-13>
Conflict miss
</h4>
<div id=outline-text-headline-13 class=outline-text-4>
<ul>
<li>
<p>Most caches limit blocks at level k + 1 to a small subset (sometimes a singleton) of the block positions at level k. e.g. Block i at level k + 1 must be placed in block (i mod 4) at level k.</p>
</li>
<li>
<p>Conflict misses occur when the level k cache is large enough, but multiple data objects all map to the same level k block. e.g. Referencing blocks 0, 8, 0, 8, 0, 8, … would miss every time.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-14 class=outline-4>
<h4 id=headline-14>
Capacity miss
</h4>
<div id=outline-text-headline-14 class=outline-text-4>
<p>Occurs when the set of active blocks (working set) is larger than the cache.</p>
</div>
</div>
<div id=outline-container-headline-15 class=outline-4>
<h4 id=headline-15>
Placement policy
</h4>
<div id=outline-text-headline-15 class=outline-text-4>
<p>determines where block goes</p>
</div>
</div>
<div id=outline-container-headline-16 class=outline-4>
<h4 id=headline-16>
Replacement policy
</h4>
<div id=outline-text-headline-16 class=outline-text-4>
<p>determines which block gets evicted</p>
</div>
</div>
<div id=outline-container-headline-17 class=outline-4>
<h4 id=headline-17>
General Cache Organization (S, E, B)
</h4>
<div id=outline-text-headline-17 class=outline-text-4>
<ul>
<li>
<p>S = 2^s sets</p>
</li>
<li>
<p>E = 2^e lines per set</p>
</li>
<li>
<p>B = 2^b bytes per cache block</p>
</li>
<li>
<p>C = S × E × B is the Cache size</p>
</li>
</ul>
<div id=outline-container-headline-18 class=outline-5>
<h5 id=headline-18>
Address of word
</h5>
<div id=outline-text-headline-18 class=outline-text-5>
<ul>
<li>
<p>lower bits, b-bits are block offset</p>
</li>
<li>
<p>s-bits are index of set</p>
</li>
<li>
<p>remaining t-bits are tag</p>
</li>
<li>
<p>The cache take this address, and first extract the s-bits, and use it as an index to identify the set. If the block that contains this data word is in the cache, it is going to be in the set that is denoted by the set index. And then it checks the tag, check all lines in the set to see if any lines of the set has a matching tag, and check if the valid bit is turned on.</p>
</li>
<li>
<p>locate set</p>
</li>
<li>
<p>check if any line in set has matching tag</p>
</li>
<li>
<p>Yes + line valid, hit</p>
<ul>
<li>
<p>locate data starting at offset</p>
</li>
</ul>
</li>
<li>
<p>if the tag does not match, old line is evicted and replaced.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-19 class=outline-3>
<h3 id=headline-19>
Direct Mapped Cache
</h3>
<div id=outline-text-headline-19 class=outline-text-3>
<p>E = 1, one line per set</p>
</div>
</div>
<div id=outline-container-headline-20 class=outline-3>
<h3 id=headline-20>
E-way Set Associative Cache
</h3>
<div id=outline-text-headline-20 class=outline-text-3>
<p>E = 2, two lines per set</p>
<ul>
<li>
<p>search for matching tag in the same set at the same time</p>
</li>
<li>
<p>once identify the match, locate data starting at offset</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-21 class=outline-2>
<h2 id=headline-21>
Writing
</h2>
<div id=outline-text-headline-21 class=outline-text-2>
<div id=outline-container-headline-22 class=outline-3>
<h3 id=headline-22>
What to do on a write-hit?
</h3>
<div id=outline-text-headline-22 class=outline-text-3>
<dl>
<dt>
write through
</dt>
<dd>
<p>write immediately to memory, always mirror the content of lower memory.</p>
</dd>
<dt>
write back
</dt>
<dd>
<p>defer write to memory until replacement of line. Need a dirty bit to determine if line different from memory or not.</p>
</dd>
</dl>
</div>
</div>
<div id=outline-container-headline-23 class=outline-3>
<h3 id=headline-23>
What to do on a write-miss?
</h3>
<div id=outline-text-headline-23 class=outline-text-3>
<dl>
<dt>
write-allocate
</dt>
<dd>
<p>load into cache, update line in cache. Good if more writes to the location follow.</p>
</dd>
<dt>
No-write-allocate
</dt>
<dd>
<p>writes straightly to the memory, does not load into cache.</p>
</dd>
</dl>
</div>
</div>
<div id=outline-container-headline-24 class=outline-3>
<h3 id=headline-24>
Typical combination
</h3>
<div id=outline-text-headline-24 class=outline-text-3>
<ul>
<li>
<p>write through + no-write-allocate</p>
</li>
<li>
<p><strong>write back + write-allocate</strong></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-25 class=outline-2>
<h2 id=headline-25>
Cache performance Metrics
</h2>
<div id=outline-text-headline-25 class=outline-text-2>
<div id=outline-container-headline-26 class=outline-3>
<h3 id=headline-26>
Miss Rate
</h3>
<div id=outline-text-headline-26 class=outline-text-3>
<ul>
<li>
<p>fraction of memory references not found in the cache (misses / accesses) = 1 - hit rate.</p>
</li>
<li>
<p>typical numbers in percentages</p>
<ul>
<li>
<p>3 - 10% for L1 cache</p>
</li>
<li>
<p>can be quite small (e.g. &lt; 1%) for L2, depending on size, etc.</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-27 class=outline-3>
<h3 id=headline-27>
Hit Time
</h3>
<div id=outline-text-headline-27 class=outline-text-3>
<ul>
<li>
<p>time to deliver a line in the cache to the processor</p>
<ul>
<li>
<p>includes time to determine whether the line is in the cache</p>
</li>
</ul>
</li>
<li>
<p>typical numbers</p>
<ul>
<li>
<p>4 clock cycles for L1</p>
</li>
<li>
<p>10 clock cycles for L2</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-28 class=outline-3>
<h3 id=headline-28>
Miss Penalty
</h3>
<div id=outline-text-headline-28 class=outline-text-3>
<ul>
<li>
<p>Additional time required because of a miss</p>
<ul>
<li>
<p>typically 50 - 200 cycles for main memory</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</article>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#headline-1>Locality</a>
<ul>
<li><a href=#headline-2>Principle of locality</a>
</li>
<li><a href=#headline-3>Locality Example</a>
<ul>
<li><a href=#headline-4>Data References</a>
</li>
<li><a href=#headline-5>Instructions References</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#headline-6>Cache</a>
<ul>
<li><a href=#headline-7>Fundamental idea of a memory hierarchy</a>
</li>
<li><a href=#headline-8>Why do memory hierarchies work?</a>
</li>
<li><a href=#headline-9>Big Idea</a>
</li>
<li><a href=#headline-10>Hit</a>
</li>
<li><a href=#headline-11>Miss</a>
<ul>
<li><a href=#headline-12>Cold miss</a>
</li>
<li><a href=#headline-13>Conflict miss</a>
</li>
<li><a href=#headline-14>Capacity miss</a>
</li>
<li><a href=#headline-15>Placement policy</a>
</li>
<li><a href=#headline-16>Replacement policy</a>
</li>
<li><a href=#headline-17>General Cache Organization (S, E, B)</a>
<ul>
<li><a href=#headline-18>Address of word</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#headline-19>Direct Mapped Cache</a>
</li>
<li><a href=#headline-20>E-way Set Associative Cache</a>
</li>
</ul>
</li>
<li><a href=#headline-21>Writing</a>
<ul>
<li><a href=#headline-22>What to do on a write-hit?</a>
</li>
<li><a href=#headline-23>What to do on a write-miss?</a>
</li>
<li><a href=#headline-24>Typical combination</a>
</li>
</ul>
</li>
<li><a href=#headline-25>Cache performance Metrics</a>
<ul>
<li><a href=#headline-26>Miss Rate</a>
</li>
<li><a href=#headline-27>Hit Time</a>
</li>
<li><a href=#headline-28>Miss Penalty</a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&text=Memory%20and%20Cache%20Review" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&title=Memory%20and%20Cache%20Review" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&is_video=false&description=Memory%20and%20Cache%20Review" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Memory%20and%20Cache%20Review&body=Check out this article: https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&title=Memory%20and%20Cache%20Review" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&title=Memory%20and%20Cache%20Review" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&name=Memory%20and%20Cache%20Review&description=Locality%20%20Principle%20of%20locality%20%20Programs%20tend%20to%20use%20data%20and%20instructions%20with%20addresses%20near%20or%20equal%20to%20those%20they%20have%20recently%20used.%0a%20%20temporal%20locality%20%20%20Recently%20referenced%20items%20are%20likely%20to%20be%20referenced%20again%20in%20the%20near%20future.%0a%20%20spatial%20locality%20%20%20Items%20with%20nearby%20addresses%20tend%20to%20be%20referenced%20close%20together%20in%20time.%0a%20%20%20%20Locality%20Example%20%201sum%20%3d%200%3b%202for%20%28int%20i%20%3d%200%3b%20i%20%26lt%3b%20n%3b%20i%2b%2b%29%203%20sum%20%2b%3d%20a%5bi%5d%3b%204return%20sum%3b%20%20Data%20References%20%20%20%20Reference%20array%20elements%20in%20succession%20%28stride%20-%201%20reference%20pattern%29." aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fychen878.github.io%2fposts%2fmemory-and-cache-review%2f&t=Memory%20and%20Cache%20Review" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 Yi Chen
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
<script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}}</script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
</html>