<!doctype html><html lang=en-us>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> Notes on The Rust Programming Language | XIAOYIJ</title>
<link rel=canonical href=https://ychen878.github.io/posts/trpl/>
<meta name=description content="This is my website">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="Notes on The Rust Programming Language">
<meta property="og:description" content="Common Programming Concepts 1  Variables and Mutability    The default integer type for a positive number that is not so large is i32.
  Variables by default are immutable.
  Differences Between Variables and Constants    mut cannot be used with constants.
  Declare constants with const keyword, and the type must be annotated.
  Constant can only be set to constant expression, not value computed during runtime.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ychen878.github.io/posts/trpl/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-04-30T00:00:00+00:00">
<meta property="article:modified_time" content="2020-04-30T00:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Notes on The Rust Programming Language">
<meta name=twitter:description content="Common Programming Concepts 1  Variables and Mutability    The default integer type for a positive number that is not so large is i32.
  Variables by default are immutable.
  Differences Between Variables and Constants    mut cannot be used with constants.
  Declare constants with const keyword, and the type must be annotated.
  Constant can only be set to constant expression, not value computed during runtime.">
<link rel=stylesheet href=https://ychen878.github.io/css/styles.4c2b9aa1d874d6766f554b2d404e8fd62ab4761f51ee9b3f358d12e81e7fa43a1b4378db995bc1926bbe5ed98c060be5e7bd4f2470504cf94f22b4b3a74e62b6.css integrity="sha512-TCuaodh01nZvVUstQE6P1iq0dh9R7ps/NY0S6B5/pDobQ3jbmVvBkmu+XtmMBgvl571PJHBQTPlPIrSzp05itg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=https://ychen878.github.io/images/favicon.ico>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=https://ychen878.github.io/posts/cs538/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=https://ychen878.github.io/posts/cs537/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&text=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&title=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&is_video=false&description=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Notes%20on%20The%20Rust%20Programming%20Language&body=Check out this article: https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&title=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&title=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&name=Notes%20on%20The%20Rust%20Programming%20Language&description=Common%20Programming%20Concepts%201%20%20Variables%20and%20Mutability%20%20%20%20The%20default%20integer%20type%20for%20a%20positive%20number%20that%20is%20not%20so%20large%20is%20i32.%0a%20%20Variables%20by%20default%20are%20immutable.%0a%20%20Differences%20Between%20Variables%20and%20Constants%20%20%20%20mut%20cannot%20be%20used%20with%20constants.%0a%20%20Declare%20constants%20with%20const%20keyword%2c%20and%20the%20type%20must%20be%20annotated.%0a%20%20Constant%20can%20only%20be%20set%20to%20constant%20expression%2c%20not%20value%20computed%20during%20runtime." aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&t=Notes%20on%20The%20Rust%20Programming%20Language" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#headline-1>Common Programming Concepts <sup class=footnote-reference>1</sup></a>
<ul>
<li><a href=#headline-2>Variables and Mutability</a>
<ul>
<li><a href=#headline-3>Differences Between Variables and Constants</a>
</li>
<li><a href=#headline-4>Shadowing</a>
</li>
</ul>
</li>
<li><a href=#headline-5>Data Types</a>
<ul>
<li><a href=#headline-6>Scalar Types</a>
</li>
<li><a href=#headline-7>Integer Types</a>
</li>
<li><a href=#headline-8>Floating-Point Types</a>
</li>
<li><a href=#headline-9>Numeric Operations</a>
</li>
<li><a href=#headline-10>Boolean Type</a>
</li>
<li><a href=#headline-11>Character Type</a>
</li>
<li><a href=#headline-12>Compound Types</a>
</li>
<li><a href=#headline-13>Tuple Type</a>
</li>
<li><a href=#headline-14>Array Type</a>
<ul>
<li><a href=#headline-15>Accessing Array Element</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#headline-16>Functions</a>
<ul>
<li><a href=#headline-17>Functions with Return Values</a>
</li>
</ul>
</li>
<li><a href=#headline-18>Control Flow</a>
<ul>
<li><a href=#headline-19>If</a>
</li>
<li><a href=#headline-20>Repetition</a>
<ul>
<li><a href=#headline-21>Loop </a>
</li>
<li><a href=#headline-22>For</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#headline-23>Using Structs to Structure Related Data</a>
<ul>
<li><a href=#headline-24>Defining and Instantiating Structs</a>
</li>
<li><a href=#headline-25>Method Syntax</a>
</li>
</ul>
</li>
<li><a href=#headline-26>Understanding Ownership</a>
<ul>
<li><a href=#headline-27>What is Ownership?</a>
<ul>
<li><a href=#headline-28>Ownership and Functions</a>
</li>
</ul>
</li>
<li><a href=#headline-29>References and Borrowing</a>
</li>
</ul>
</li>
<li><a href=#headline-30>Enums and Pattern Matching</a>
<ul>
<li><a href=#headline-31>Defining an Enum</a>
<ul>
<li><a href=#headline-32>The <code class=verbatim>Option</code> Enum</a>
</li>
</ul>
</li>
<li><a href=#headline-33>The <code class=verbatim>match</code> Control Flow Operator</a>
</li>
<li><a href=#headline-34>Concise Control flow with <code class=verbatim>if let</code></a>
</li>
</ul>
</li>
<li><a href=#headline-35>Common Collections</a>
<ul>
<li><a href=#headline-36>Vector</a>
</li>
<li><a href=#headline-37>String</a>
</li>
<li><a href=#headline-38>Hash Map</a>
</li>
</ul>
</li>
<li><a href=#headline-39>Error Handling</a>
<ul>
<li><a href=#headline-40>Unrecoverable Errors with <code class=verbatim>panic!</code></a>
</li>
<li><a href=#headline-41>Recoverable Errors with <code class=verbatim>Result</code></a>
</li>
</ul>
</li>
<li><a href=#headline-42>Traits, and Lifetimes</a>
<ul>
<li><a href=#headline-43>Traits: Defining Shared Behavior</a>
</li>
<li><a href=#headline-44>Validating References with Lifetimes</a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
Notes on The Rust Programming Language
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2020-04-30 00:00:00 +0000 UTC" itemprop=datePublished>2020-04-30</time>
</div>
<div class=article-read-time>
<i class="far fa-clock"></i>
10 minute read
</div>
<div class=article-category>
<i class="fas fa-archive"></i>
<a class=category-link href=/categories/cs>CS</a>
,
<a class=category-link href=/categories/pl>PL</a>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/rust rel=tag>Rust</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<div id=outline-container-headline-1 class=outline-2>
<h2 id=headline-1>
Common Programming Concepts <sup class=footnote-reference><a id=footnote-reference-1 href=#footnote-1>1</a></sup>
</h2>
<div id=outline-text-headline-1 class=outline-text-2>
<div id=outline-container-headline-2 class=outline-3>
<h3 id=headline-2>
Variables and Mutability
</h3>
<div id=outline-text-headline-2 class=outline-text-3>
<ul>
<li>
<p>The default integer type for a positive number that is not so large is <code class=verbatim>i32</code>.</p>
</li>
<li>
<p>Variables by default are <code class=verbatim>immutable</code>.</p>
</li>
</ul>
<div id=outline-container-headline-3 class=outline-4>
<h4 id=headline-3>
Differences Between Variables and Constants
</h4>
<div id=outline-text-headline-3 class=outline-text-4>
<ul>
<li>
<p><code class=verbatim>mut</code> cannot be used with constants.</p>
</li>
<li>
<p>Declare constants with <code class=verbatim>const</code> keyword, and the type must be annotated.</p>
</li>
<li>
<p>Constant can only be set to constant expression, not value computed during runtime.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-4 class=outline-4>
<h4 id=headline-4>
Shadowing
</h4>
<div id=outline-text-headline-4 class=outline-text-4>
<ul>
<li>
<p>You can declare a new variable with the same name as a previous variable and the new variable shadows the previous variable.</p>
</li>
<li>
<p>Type can be changed when shadowing.</p>
</li>
<li>
<p>Type cannot be changed when re-assigning a value with a different type to a mutable variable</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-5 class=outline-3>
<h3 id=headline-5>
Data Types
</h3>
<div id=outline-text-headline-5 class=outline-text-3>
<ul>
<li>
<p>Rust must know the types of all variables at compile time.</p>
</li>
</ul>
<div id=outline-container-headline-6 class=outline-4>
<h4 id=headline-6>
Scalar Types
</h4>
<div id=outline-text-headline-6 class=outline-text-4>
<dl>
<dt>
scalar type
</dt>
<dd>
<p>Type represents a single value.</p>
</dd>
</dl>
</div>
</div>
<div id=outline-container-headline-7 class=outline-4>
<h4 id=headline-7>
Integer Types
</h4>
<div id=outline-text-headline-7 class=outline-text-4>
<ul>
<li>
<p>Size of <code class=verbatim>isize</code> and <code class=verbatim>usize</code> depends on the architecture of which program runs on. 32 bits if running on a 32-bit architecture.</p>
</li>
<li>
<p>Integer literals support <code class=verbatim>_</code> as a visual separator.</p>
</li>
<li>
<p>Default type is <code class=verbatim>i32</code>.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-8 class=outline-4>
<h4 id=headline-8>
Floating-Point Types
</h4>
<div id=outline-text-headline-8 class=outline-text-4>
<ul>
<li>
<p>There are <code class=verbatim>f32</code> or <code class=verbatim>f64</code> in Rust. There is no double.</p>
</li>
<li>
<p>Default type is <code class=verbatim>f64</code>.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-9 class=outline-4>
<h4 id=headline-9>
Numeric Operations
</h4>
<div id=outline-text-headline-9 class=outline-text-4>
<ul>
<li>
<p>Division behaves in the same way as <code class=verbatim>C</code>.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-10 class=outline-4>
<h4 id=headline-10>
Boolean Type
</h4>
<div id=outline-text-headline-10 class=outline-text-4>
<ul>
<li>
<p>Type <code class=verbatim>bool</code> has too possible values, <code class=verbatim>true</code> or <code class=verbatim>false</code>.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-11 class=outline-4>
<h4 id=headline-11>
Character Type
</h4>
<div id=outline-text-headline-11 class=outline-text-4>
<ul>
<li>
<p>Size of 4 bytes</p>
</li>
<li>
<p>Represents a Unicode Scalar Value.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-12 class=outline-4>
<h4 id=headline-12>
Compound Types
</h4>
<div id=outline-text-headline-12 class=outline-text-4>
<dl>
<dt>
compound types
</dt>
<dd>
<p>Can group multiple values into one type.</p>
</dd>
</dl>
</div>
</div>
<div id=outline-container-headline-13 class=outline-4>
<h4 id=headline-13>
Tuple Type
</h4>
<div id=outline-text-headline-13 class=outline-text-4>
<ul>
<li>
<p>Create a tuple by writing a comma-separated list of values inside parentheses.</p>
</li>
<li>
<p>Each position in the parentheses has a type.</p>
</li>
<li>
<p>These types do not have to be the same.</p>
</li>
</ul>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>fn</span> <span style=color:#50fa7b>main</span>() {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    <span style=color:#8be9fd;font-style:italic>let</span> tup: (<span style=color:#8be9fd>i32</span>, <span style=color:#8be9fd>f32</span>, <span style=color:#8be9fd>i8</span>) <span style=color:#ff79c6>=</span> (<span style=color:#bd93f9>500</span>, <span style=color:#bd93f9>6.4</span>, <span style=color:#bd93f9>1</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>    <span style=color:#8be9fd;font-style:italic>let</span> (x, y, z) <span style=color:#ff79c6>=</span> tup;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>    println!(<span style=color:#f1fa8c>&#34;The value of y is {}&#34;</span>, y);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>}</code></pre></div>
</div>
<ul>
<li>
<p>One way to access a value inside a tuple is destructuring through pattern matching.</p>
</li>
<li>
<p>Another way to access a value is using <code class=verbatim>.</code> with an index. The first element in the tuple is indexed 0.</p>
</li>
</ul>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>fn</span> <span style=color:#50fa7b>main</span>() {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    <span style=color:#8be9fd;font-style:italic>let</span> tup: (<span style=color:#8be9fd>i32</span>, <span style=color:#8be9fd>f32</span>, <span style=color:#8be9fd>i8</span>) <span style=color:#ff79c6>=</span> (<span style=color:#bd93f9>500</span>, <span style=color:#bd93f9>6.4</span>, <span style=color:#bd93f9>1</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>    println!(<span style=color:#f1fa8c>&#34;The value of y is {}&#34;</span>, tup.<span style=color:#bd93f9>1</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>}</code></pre></div>
</div>
</div>
</div>
<div id=outline-container-headline-14 class=outline-4>
<h4 id=headline-14>
Array Type
</h4>
<div id=outline-text-headline-14 class=outline-text-4>
<ul>
<li>
<p>Each element in an array must has the same type.</p>
</li>
<li>
<p>Arrays in rust have fixed length.</p>
</li>
<li>
<p>Arrays are allocated on stack.</p>
</li>
<li>
<p>Type on an array is a composition of its elements' type and its length.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#8be9fd;font-style:italic>let</span> a: [<span style=color:#8be9fd>u8</span>; <span style=color:#bd93f9>3</span>] <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>];</code></pre></div>
</div>
</li>
<li>
<p>An array can be initialized in the following way if each element has the same value.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#8be9fd;font-style:italic>let</span> a <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>4</span>; <span style=color:#bd93f9>8</span>]; <span style=color:#6272a4>// 8 elements, each element has a value of 4.
</span></code></pre></div>
</div>
</li>
</ul>
<div id=outline-container-headline-15 class=outline-5>
<h5 id=headline-15>
Accessing Array Element
</h5>
<div id=outline-text-headline-15 class=outline-text-5>
<ul>
<li>
<p>Element can be accessed using indexing.</p>
</li>
<li>
<p>Rust will check if an index is in the bound in runtime.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-16 class=outline-3>
<h3 id=headline-16>
Functions
</h3>
<div id=outline-text-headline-16 class=outline-text-3>
<ul>
<li>
<p><code class=verbatim>fn</code> allows you to declare a new function.</p>
</li>
<li>
<p>Functions can be defined anywhere in the source code.</p>
</li>
<li>
<p>Parameters of a function must have types declared.</p>
</li>
<li>
<p>Instructions that perform some action and do not return a value are <code class=verbatim>statements</code>.</p>
</li>
<li>
<p><code class=verbatim>Expressions</code> Evaluate to a resulting value.</p>
</li>
<li>
<p>Expressions can be part of statements.</p>
</li>
<li>
<p>Function bodies are made up of a series of statements optionally ending in an expression.</p>
</li>
<li>
<p>Calling a function is an expression.</p>
</li>
<li>
<p>The block that we use to create new scopes, <code class=verbatim>{}</code>, is an expression.</p>
</li>
<li>
<p>Expressions do not include ending semicolons.</p>
</li>
</ul>
<div id=outline-container-headline-17 class=outline-5>
<h5 id=headline-17>
Functions with Return Values
</h5>
<div id=outline-text-headline-17 class=outline-text-5>
<ul>
<li>
<p>Declare return value's type using <code class=verbatim>-></code>.</p>
</li>
<li>
<p>The return value of the function is synonymous with the value of the final expression in the block of the body of a function.</p>
</li>
<li>
<p>To return early, use <code class=verbatim>return</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-18 class=outline-3>
<h3 id=headline-18>
Control Flow
</h3>
<div id=outline-text-headline-18 class=outline-text-3>
<ul>
<li>
<p>Unlike <code class=verbatim>C</code>, the condition must be a <code class=verbatim>bool</code>.</p>
</li>
</ul>
<div id=outline-container-headline-19 class=outline-4>
<h4 id=headline-19>
If
</h4>
<div id=outline-text-headline-19 class=outline-text-4>
<ul>
<li>
<p><code class=verbatim>if</code> is an expression, so it can be used on the right side of a <code class=verbatim>let</code> statement.</p>
</li>
<li>
<p>All arms must have the same type.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-20 class=outline-4>
<h4 id=headline-20>
Repetition
</h4>
<div id=outline-text-headline-20 class=outline-text-4>
<div id=outline-container-headline-21 class=outline-5>
<h5 id=headline-21>
Loop
</h5>
<div id=outline-text-headline-21 class=outline-text-5>
<ul>
<li>
<p>The loop keyword tells Rust to execute a block of code over and over again forever or until you explicitly tell it to stop by using the keyword <code class=verbatim>break</code>.</p>
</li>
<li>
<p>Value after the <code class=verbatim>break</code> expression will be return.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-22 class=outline-5>
<h5 id=headline-22>
For
</h5>
<div id=outline-text-headline-22 class=outline-text-5>
<ul>
<li>
<p>For each loop on collection</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#8be9fd;font-style:italic>let</span> numbers <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>, <span style=color:#bd93f9>4</span>, <span style=color:#bd93f9>5</span>];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#ff79c6>for</span> number <span style=color:#ff79c6>in</span> numbers.iter() {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>    println!(<span style=color:#f1fa8c>&#34;{}&#34;</span>, number);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>}</code></pre></div>
</div>
</li>
<li>
<p>For each loop on range</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>for</span> i <span style=color:#ff79c6>in</span> (<span style=color:#bd93f9>1</span><span style=color:#ff79c6>..</span><span style=color:#bd93f9>4</span>).rev() {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    println!(<span style=color:#f1fa8c>&#34;{}&#34;</span>, i);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>}</code></pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-23 class=outline-2>
<h2 id=headline-23>
Using Structs to Structure Related Data
</h2>
<div id=outline-text-headline-23 class=outline-text-2>
<div id=outline-container-headline-24 class=outline-3>
<h3 id=headline-24>
Defining and Instantiating Structs
</h3>
<div id=outline-text-headline-24 class=outline-text-3>
<ul>
<li>
<p>Using dot notation, <code class=verbatim>.</code>, to get a specific value from a struct.</p>
</li>
<li>
<p>A filed of an immutable struct cannot be modified.</p>
</li>
<li>
<p>If a struct is mutable, the dot notation can both access and modify fields of that struct.</p>
</li>
<li>
<p>Cannot make certain field of a struct mutable.</p>
</li>
<li>
<p>If variable that initialize a field has the same name as the field, no need to repeat the name.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>fn</span> <span style=color:#50fa7b>build_user</span>(email: <span style=color:#8be9fd;font-style:italic>String</span>, username: <span style=color:#8be9fd;font-style:italic>String</span>) -&gt; <span style=color:#50fa7b>User</span> {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    User {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>        email,
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>        username,
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>        active: <span style=color:#50fa7b>true</span>,
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span>        sign_in_count: <span style=color:#bd93f9>1</span>,
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span>}
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span>}</code></pre></div>
</div>
</li>
<li>
<p>When creating a new struct instance with some fields from an old instance, use <code class=verbatim>..</code> specifies that the remaining fields have the same values as the fields in the given instance.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#8be9fd;font-style:italic>let</span> user2 <span style=color:#ff79c6>=</span> User {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    email: <span style=color:#8be9fd;font-style:italic>String</span>::from(<span style=color:#f1fa8c>&#34;another@example.com&#34;</span>),
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>    username: <span style=color:#8be9fd;font-style:italic>String</span>::from(<span style=color:#f1fa8c>&#34;anotherusername567&#34;</span>),
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span style=color:#ff79c6>..</span>user1
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>};</code></pre></div>
</div>
</li>
<li>
<p>Tuple struct does not provide names associated with its fields but types.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>struct</span> <span style=color:#50fa7b>Color</span>(<span style=color:#8be9fd>i32</span>, <span style=color:#8be9fd>i32</span>, <span style=color:#8be9fd>i32</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#8be9fd;font-style:italic>let</span> black <span style=color:#ff79c6>=</span> Color(<span style=color:#bd93f9>0</span>, <span style=color:#bd93f9>0</span>, <span style=color:#bd93f9>0</span>);</code></pre></div>
</div>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-25 class=outline-3>
<h3 id=headline-25>
Method Syntax
</h3>
<div id=outline-text-headline-25 class=outline-text-3>
<ul>
<li>
<p>The first parameter for a method is always <code class=verbatim>self</code>.</p>
</li>
<li>
<p>Methods can also take ownership, like functions.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>struct</span> <span style=color:#50fa7b>Rectangle</span> {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>    width: <span style=color:#8be9fd>u32</span>,
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>height: <span style=color:#8be9fd>u32</span>,
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>}
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span style=color:#ff79c6>impl</span> Rectangle {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>    <span style=color:#ff79c6>fn</span> <span style=color:#50fa7b>area</span>(<span style=color:#ff79c6>&amp;</span>self) -&gt; <span style=color:#8be9fd>u32</span> {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span> self.width <span style=color:#ff79c6>*</span> self.height
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>}
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>}</code></pre></div>
</div>
</li>
<li>
<p>If a method inside <code class=verbatim>impl</code> block does not have <code class=verbatim>self</code> as its first parameter, then this method is considered as <code class=verbatim>associated function</code>.</p>
</li>
<li>
<p>Associated functions can be called by <code class=verbatim>::</code> syntax.</p>
</li>
<li>
<p>Each struct can have multiple <code class=verbatim>impl</code> blocks.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-26 class=outline-2>
<h2 id=headline-26>
Understanding Ownership
</h2>
<div id=outline-text-headline-26 class=outline-text-2>
<div id=outline-container-headline-27 class=outline-3>
<h3 id=headline-27>
What is Ownership?
</h3>
<div id=outline-text-headline-27 class=outline-text-3>
<ul>
<li>
<p>All data stored on the stack must have a known, fixed size.</p>
</li>
<li>
<p>Data with an unknown size at compile time or a size that might change must be stored on the heap instead.</p>
</li>
<li>
<p>Ownership Rules</p>
<ul>
<li>
<p>Each value in Rust has a variable that's called it s owner.</p>
</li>
<li>
<p>There can only be one owner at a time.</p>
</li>
<li>
<p>When the owner goes out of scope, the value will be dropped.</p>
</li>
</ul>
</li>
<li>
<p>In Rust, the memory is automatically returned once the variable that owns it goes out of scope.</p>
</li>
<li>
<p>Rust calls <code class=verbatim>drop</code> automatically at the closing curly bracket where the variable will go out of scope.</p>
</li>
<li>
<p>Only copying those on the stack and pointers, which are also on the stack, to the heap, but not data on the heap.</p>
</li>
<li>
<p>This sounds like shallow copy, but rust invalid the variable being copied. That is, old variable cannot be read or wrote anymore.</p>
</li>
<li>
<p>This is known as move.</p>
</li>
<li>
<p>Copying everything on the heap is very expensive.</p>
</li>
<li>
<p>rust will never automatically create "deep" copies of your data.</p>
</li>
<li>
<p>Use common method <code class=verbatim>clone</code> to create a "deep" copy.</p>
</li>
</ul>
<div id=outline-container-headline-28 class=outline-4>
<h4 id=headline-28>
Ownership and Functions
</h4>
<div id=outline-text-headline-28 class=outline-text-4>
<ul>
<li>
<p>The semantics for passing a value to a function are similar to those for assigning a value to a variable.</p>
</li>
<li>
<p>When a value passes into a function, the ownership also is passed into the function.</p>
</li>
<li>
<p>Returning a value can also pass ownership.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-29 class=outline-3>
<h3 id=headline-29>
References and Borrowing
</h3>
<div id=outline-text-headline-29 class=outline-text-3>
<ul>
<li>
<p>Reference allows you to refer to some value without taking ownership of it.</p>
</li>
<li>
<p>The <code class=verbatim>&val</code> syntax lets us create a reference that refers to the value <code class=verbatim>val</code> but does not own it.</p>
</li>
<li>
<p>We don't drop what the reference points to when the reference goes out of scope because we don't have ownership.</p>
</li>
<li>
<p>References are immutable by default.</p>
</li>
<li>
<p>You can have only one mutable reference to a particular piece of data in a particular scope.</p>
</li>
<li>
<p>We also cannot have a mutable reference while we have an immutable one.</p>
</li>
<li>
<p>The scope of a reference starts from where it is introduces and continues through the last time that reference is used.</p>
</li>
<li>
<p>The Rules of References:</p>
<ol>
<li>
<p>At any given time, you can have either one mutable reference or any number of immutable references.</p>
</li>
<li>
<p>References must always be valid.</p>
</li>
</ol>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-30 class=outline-2>
<h2 id=headline-30>
Enums and Pattern Matching
</h2>
<div id=outline-text-headline-30 class=outline-text-2>
<div id=outline-container-headline-31 class=outline-3>
<h3 id=headline-31>
Defining an Enum
</h3>
<div id=outline-text-headline-31 class=outline-text-3>
<ul>
<li>
<p>Enums can have different types.</p>
</li>
<li>
<p>Enums is similar to algebraic data types in functional programming languages.</p>
</li>
<li>
<p>Enums can have methods using <code class=verbatim>impl</code>.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>enum</span> <span style=color:#50fa7b>Message</span> {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>    Quit,
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>Move { x: <span style=color:#8be9fd>i32</span>, y: <span style=color:#8be9fd>i32</span> },
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>Write(<span style=color:#8be9fd;font-style:italic>String</span>),
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>ChangeColor(<span style=color:#8be9fd>i32</span>, <span style=color:#8be9fd>i32</span>, <span style=color:#8be9fd>i32</span>),
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>HiTuple((<span style=color:#8be9fd>i32</span>, <span style=color:#8be9fd>i32</span>)),
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>}
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#ff79c6>impl</span> Message {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>    <span style=color:#ff79c6>fn</span> <span style=color:#50fa7b>call</span>(<span style=color:#ff79c6>&amp;</span>self) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>        println!(<span style=color:#f1fa8c>&#34;Hello Message&#34;</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>    }
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>}</code></pre></div>
</div>
</li>
</ul>
<div id=outline-container-headline-32 class=outline-4>
<h4 id=headline-32>
The <code class=verbatim>Option</code> Enum
</h4>
<div id=outline-text-headline-32 class=outline-text-4>
<ul>
<li>
<p><code class=verbatim>Option&lt;T></code> is provided by Rust, included in prelude.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>enum</span> <span style=color:#8be9fd;font-style:italic>Option</span><span style=color:#ff79c6>&lt;</span>T<span style=color:#ff79c6>&gt;</span> {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    <span style=color:#8be9fd;font-style:italic>Some</span>(T),
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>    <span style=color:#8be9fd;font-style:italic>None</span>,
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>}</code></pre></div>
</div>
</li>
<li>
<p>Value of <code class=verbatim>Option&lt;T></code> typed cannot be used in place of value typed <code class=verbatim>&lt;T></code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-33 class=outline-3>
<h3 id=headline-33>
The <code class=verbatim>match</code> Control Flow Operator
</h3>
<div id=outline-text-headline-33 class=outline-text-3>
<ul>
<li>
<p><code class=verbatim>=></code> separates the pattern and the code to run.</p>
</li>
<li>
<p>You can use curly braces if there are multiple lines of code to run after pattern-matched.</p>
</li>
<li>
<p>We must exhaust every last possibility in order for the code to be valid.</p>
</li>
<li>
<p><code class=verbatim>_</code> will match any value</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-34 class=outline-3>
<h3 id=headline-34>
Concise Control flow with <code class=verbatim>if let</code>
</h3>
<div id=outline-text-headline-34 class=outline-text-3>
<ul>
<li>
<p><code class=verbatim>if let</code> matches one pattern.</p>
<div class="src src-rust">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>if</span> <span style=color:#8be9fd;font-style:italic>let</span> <span style=color:#8be9fd;font-style:italic>Some</span>(<span style=color:#bd93f9>3</span>) <span style=color:#ff79c6>=</span> some_u8_value {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    println!(<span style=color:#f1fa8c>&#34;three&#34;</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>}</code></pre></div>
</div>
</li>
<li>
<p>Compiler does not check if cases are exhaustive.</p>
</li>
<li>
<p>Can be used with a <code class=verbatim>else</code> statement.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-35 class=outline-2>
<h2 id=headline-35>
Common Collections
</h2>
<div id=outline-text-headline-35 class=outline-text-2>
<div id=outline-container-headline-36 class=outline-3>
<h3 id=headline-36>
Vector
</h3>
<div id=outline-text-headline-36 class=outline-text-3>
<ul>
<li>
<p>Can only store values of the same type</p>
</li>
<li>
<p>When a vector gets dropped, all of its contents are also dropped.</p>
</li>
<li>
<p>Vectors are indexed by number, starting at zero.</p>
</li>
<li>
<p>Adding a new element onto the end of the vector might require allocating new memory and copying the old elements to the new space.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-37 class=outline-3>
<h3 id=headline-37>
String
</h3>
<div id=outline-text-headline-37 class=outline-text-3>
<ul>
<li>
<p>The compiler can coerce the <code class=verbatim>&String</code> argument into a <code class=verbatim>&str</code>.</p>
</li>
<li>
<p>Using <code class=verbatim>+</code> to concatenate two strings <code class=verbatim>s1</code> and <code class=verbatim>s2</code>, <code class=verbatim>let s3 = s1 + &s2</code>, actually takes ownership of s1, appends a copy of the contents of s2, and then returns ownership of the result.</p>
</li>
<li>
<p>Rust strings don't support indexing.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-38 class=outline-3>
<h3 id=headline-38>
Hash Map
</h3>
<div id=outline-text-headline-38 class=outline-text-3>
<ul>
<li>
<p>The type <code class=verbatim>HashMap&lt;K, V></code> stores a mapping of keys of type <code class=verbatim>K</code> to values of type <code class=verbatim>V</code>.</p>
</li>
<li>
<p>We need to first <code class=verbatim>use</code> the <code class=verbatim>HashMap</code> form the collections portion of the standard library.</p>
</li>
<li>
<p>All of keys must have the same type, and all of the values must have the same type.</p>
</li>
<li>
<p>One can use <code class=verbatim>collect</code> method to turn a vector of tuples into a hash map.</p>
</li>
<li>
<p>Types that implement the <code class=verbatim>Copy</code> trait are copied into the hash map.</p>
</li>
<li>
<p>Owned values are moved and the hash map will be the owner of those values.</p>
</li>
<li>
<p>Inserting references to values into the hasp map does not move the value into the hash map.</p>
</li>
<li>
<p><code class=verbatim>get()</code> returns an <code class=verbatim>Option&lt;&V></code>.</p>
</li>
<li>
<p>Insert a inserted key with different value will replace the old value.</p>
</li>
<li>
<p>Use <code class=verbatim>entry()</code> and <code class=verbatim>or_insert()</code> to insert a value if the key does not appear in the hash map.</p>
</li>
<li>
<p><code class=verbatim>or_insert()</code> returns a reference to the value associates to the key.</p>
</li>
<li>
<p>Can dereference the return value of <code class=verbatim>or_insert()</code> to update the value.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-39 class=outline-2>
<h2 id=headline-39>
Error Handling
</h2>
<div id=outline-text-headline-39 class=outline-text-2>
<div id=outline-container-headline-40 class=outline-3>
<h3 id=headline-40>
Unrecoverable Errors with <code class=verbatim>panic!</code>
</h3>
<div id=outline-text-headline-40 class=outline-text-3>
<ul>
<li>
<p>When the <code class=verbatim>panic!</code> macro executes, the program will print a failure message, unwind and clean up the stack, and then quit.</p>
</li>
<li>
<p>Set <code class=verbatim>RUST_BACKTRACE=1</code> to display the backtrace.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-41 class=outline-3>
<h3 id=headline-41>
Recoverable Errors with <code class=verbatim>Result</code>
</h3>
<div id=outline-text-headline-41 class=outline-text-3>
<ul>
<li>
<p>Use <code class=verbatim>unwrap()</code> method on <code class=verbatim>Result</code> type. If the value is <code class=verbatim>Ok</code> variant, <code class=verbatim>unwrap</code> will return the value inside the <code class=verbatim>Ok</code>. If the <code class=verbatim>Result</code> is the <code class=verbatim>Err</code> variant, <code class=verbatim>unwrap</code> will call the <code class=verbatim>panic!</code> macro for us.</p>
</li>
<li>
<p><code class=verbatim>expect()</code> is similar to <code class=verbatim>unwrap()</code>, but more detailed error message can be provided.</p>
</li>
<li>
<p>The <code class=verbatim>?</code> operator can be used in Functions that return <code class=verbatim>Result</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-42 class=outline-2>
<h2 id=headline-42>
Traits, and Lifetimes
</h2>
<div id=outline-text-headline-42 class=outline-text-2>
<div id=outline-container-headline-43 class=outline-3>
<h3 id=headline-43>
Traits: Defining Shared Behavior
</h3>
<div id=outline-text-headline-43 class=outline-text-3>
<ul>
<li>
<p>A trait tells the Rust compiler about functionality a particular types has can share with other types.</p>
</li>
<li>
<p>When implementing a trait, put the trait name after <code class=verbatim>impl</code> and then use the <code class=verbatim>for</code> keyword and specify the name of the type we want to implement the trait for.</p>
</li>
<li>
<p><code class=verbatim>pub</code> makes a trait public so that other crates are able to implement it.</p>
</li>
<li>
<p>We can implement a trait on a type only if either the trait or the type is local to our crate.</p>
</li>
<li>
<p>To use a default implementation, specify and empty <code class=verbatim>impl</code> block.</p>
</li>
<li>
<p><code class=verbatim>impl</code> can also be used on type parameter.</p>
</li>
<li>
<p><code class=verbatim>+</code> syntax to specify multiple trait bounds.</p>
</li>
<li>
<p><code class=verbatim>where</code> clause allows clearer trait bounds.</p>
</li>
<li>
<p><code class=verbatim>impl Trait</code> syntax can also be used in the return position, but this function should only return a single type.</p>
</li>
<li>
<p>Rust allows conditionally implement a trait.</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-44 class=outline-3>
<h3 id=headline-44>
Validating References with Lifetimes
</h3>
<div id=outline-text-headline-44 class=outline-text-3>
<p>Every reference in Rust has a lifetime.</p>
<ul>
<li>
<p>Lifetimes prevent dangling references.</p>
</li>
<li>
<p>The names of lifetime parameters must start with an apostrophe (<code class=verbatim>'</code>).</p>
</li>
<li>
<p>We place lifetime parameter annotations after the <code class=verbatim>&</code> of a reference.</p>
</li>
<li>
<p>When returning a reference from a function, the lifetime parameter for the return type needs to match the lifetime parameter for one of the parameters.</p>
</li>
<li>
<p>Lifetimes syntax is about connecting the lifetimes of various parameters and return values of functions.</p>
</li>
<li>
<p>Lifetime Elision Rules</p>
<ul>
<li>
<p>Each parameter that is a reference gets its own lifetime.</p>
</li>
<li>
<p>If there is exactly one input lifetime parameter, that lifetime is assigned to all.</p>
</li>
<li>
<p>If there are multiple input lifetime parameters, but one of them is <code class=verbatim>&self</code> or <code class=verbatim>&mut self</code> because this is a method, the lifetime of <code class=verbatim>self</code> is assigned to all output lifetime parameters.</p>
</li>
</ul>
<p>-<code class=verbatim>'static</code> means that this reference can live for the entire duration of the program.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class=footnotes>
<hr class=footnotes-separatator>
<div class=footnote-definitions>
<div class=footnote-definition>
<sup id=footnote-1><a href=#footnote-reference-1>1</a></sup>
<div class=footnote-body>
<p>Notes from The Rust Programming Language</p>
</div>
</div>
</div>
</div>
</div>
</article>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#headline-1>Common Programming Concepts <sup class=footnote-reference>1</sup></a>
<ul>
<li><a href=#headline-2>Variables and Mutability</a>
<ul>
<li><a href=#headline-3>Differences Between Variables and Constants</a>
</li>
<li><a href=#headline-4>Shadowing</a>
</li>
</ul>
</li>
<li><a href=#headline-5>Data Types</a>
<ul>
<li><a href=#headline-6>Scalar Types</a>
</li>
<li><a href=#headline-7>Integer Types</a>
</li>
<li><a href=#headline-8>Floating-Point Types</a>
</li>
<li><a href=#headline-9>Numeric Operations</a>
</li>
<li><a href=#headline-10>Boolean Type</a>
</li>
<li><a href=#headline-11>Character Type</a>
</li>
<li><a href=#headline-12>Compound Types</a>
</li>
<li><a href=#headline-13>Tuple Type</a>
</li>
<li><a href=#headline-14>Array Type</a>
<ul>
<li><a href=#headline-15>Accessing Array Element</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#headline-16>Functions</a>
<ul>
<li><a href=#headline-17>Functions with Return Values</a>
</li>
</ul>
</li>
<li><a href=#headline-18>Control Flow</a>
<ul>
<li><a href=#headline-19>If</a>
</li>
<li><a href=#headline-20>Repetition</a>
<ul>
<li><a href=#headline-21>Loop </a>
</li>
<li><a href=#headline-22>For</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#headline-23>Using Structs to Structure Related Data</a>
<ul>
<li><a href=#headline-24>Defining and Instantiating Structs</a>
</li>
<li><a href=#headline-25>Method Syntax</a>
</li>
</ul>
</li>
<li><a href=#headline-26>Understanding Ownership</a>
<ul>
<li><a href=#headline-27>What is Ownership?</a>
<ul>
<li><a href=#headline-28>Ownership and Functions</a>
</li>
</ul>
</li>
<li><a href=#headline-29>References and Borrowing</a>
</li>
</ul>
</li>
<li><a href=#headline-30>Enums and Pattern Matching</a>
<ul>
<li><a href=#headline-31>Defining an Enum</a>
<ul>
<li><a href=#headline-32>The <code class=verbatim>Option</code> Enum</a>
</li>
</ul>
</li>
<li><a href=#headline-33>The <code class=verbatim>match</code> Control Flow Operator</a>
</li>
<li><a href=#headline-34>Concise Control flow with <code class=verbatim>if let</code></a>
</li>
</ul>
</li>
<li><a href=#headline-35>Common Collections</a>
<ul>
<li><a href=#headline-36>Vector</a>
</li>
<li><a href=#headline-37>String</a>
</li>
<li><a href=#headline-38>Hash Map</a>
</li>
</ul>
</li>
<li><a href=#headline-39>Error Handling</a>
<ul>
<li><a href=#headline-40>Unrecoverable Errors with <code class=verbatim>panic!</code></a>
</li>
<li><a href=#headline-41>Recoverable Errors with <code class=verbatim>Result</code></a>
</li>
</ul>
</li>
<li><a href=#headline-42>Traits, and Lifetimes</a>
<ul>
<li><a href=#headline-43>Traits: Defining Shared Behavior</a>
</li>
<li><a href=#headline-44>Validating References with Lifetimes</a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&text=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&title=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&is_video=false&description=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Notes%20on%20The%20Rust%20Programming%20Language&body=Check out this article: https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&title=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&title=Notes%20on%20The%20Rust%20Programming%20Language" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&name=Notes%20on%20The%20Rust%20Programming%20Language&description=Common%20Programming%20Concepts%201%20%20Variables%20and%20Mutability%20%20%20%20The%20default%20integer%20type%20for%20a%20positive%20number%20that%20is%20not%20so%20large%20is%20i32.%0a%20%20Variables%20by%20default%20are%20immutable.%0a%20%20Differences%20Between%20Variables%20and%20Constants%20%20%20%20mut%20cannot%20be%20used%20with%20constants.%0a%20%20Declare%20constants%20with%20const%20keyword%2c%20and%20the%20type%20must%20be%20annotated.%0a%20%20Constant%20can%20only%20be%20set%20to%20constant%20expression%2c%20not%20value%20computed%20during%20runtime." aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fychen878.github.io%2fposts%2ftrpl%2f&t=Notes%20on%20The%20Rust%20Programming%20Language" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 Yi Chen
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
<script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}}</script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
</html>