<!doctype html><html lang=en-us>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> Compiling C code using GCC | XIAOYIJ</title>
<link rel=canonical href=https://www.mrr1vfe.io/posts/gcc-compiling/>
<meta name=description content="This is my website">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="Compiling C code using GCC">
<meta property="og:description" content="Basic compilation using GCC  1gcc matrix.c  This command outputs a executable binary named a.out, which can be executed in the shell by ./a.out.
  Name the output binary file  a.out may not be a great name for the your binary, and using mv to rename a file every time after compilation is tedious. The -o flag allows users to name the output binary.
1gcc matrix.c -o matrix  Run the program by .">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.mrr1vfe.io/posts/gcc-compiling/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-08-17T00:00:00+00:00">
<meta property="article:modified_time" content="2020-08-17T00:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Compiling C code using GCC">
<meta name=twitter:description content="Basic compilation using GCC  1gcc matrix.c  This command outputs a executable binary named a.out, which can be executed in the shell by ./a.out.
  Name the output binary file  a.out may not be a great name for the your binary, and using mv to rename a file every time after compilation is tedious. The -o flag allows users to name the output binary.
1gcc matrix.c -o matrix  Run the program by .">
<link rel=stylesheet href=https://www.mrr1vfe.io/css/styles.4c2b9aa1d874d6766f554b2d404e8fd62ab4761f51ee9b3f358d12e81e7fa43a1b4378db995bc1926bbe5ed98c060be5e7bd4f2470504cf94f22b4b3a74e62b6.css integrity="sha512-TCuaodh01nZvVUstQE6P1iq0dh9R7ps/NY0S6B5/pDobQ3jbmVvBkmu+XtmMBgvl571PJHBQTPlPIrSzp05itg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=https://www.mrr1vfe.io/images/favicon.ico>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=https://www.mrr1vfe.io/posts/contex-free-grammar/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=https://www.mrr1vfe.io/posts/cs532/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&text=Compiling%20C%20code%20using%20GCC" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&title=Compiling%20C%20code%20using%20GCC" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&is_video=false&description=Compiling%20C%20code%20using%20GCC" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Compiling%20C%20code%20using%20GCC&body=Check out this article: https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&title=Compiling%20C%20code%20using%20GCC" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&title=Compiling%20C%20code%20using%20GCC" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&name=Compiling%20C%20code%20using%20GCC&description=Basic%20compilation%20using%20GCC%20%201gcc%20matrix.c%20%20This%20command%20outputs%20a%20executable%20binary%20named%20a.out%2c%20which%20can%20be%20executed%20in%20the%20shell%20by%20.%2fa.out.%0a%20%20Name%20the%20output%20binary%20file%20%20a.out%20may%20not%20be%20a%20great%20name%20for%20the%20your%20binary%2c%20and%20using%20mv%20to%20rename%20a%20file%20every%20time%20after%20compilation%20is%20tedious.%20The%20-o%20flag%20allows%20users%20to%20name%20the%20output%20binary.%0a1gcc%20matrix.c%20-o%20matrix%20%20Run%20the%20program%20by%20." aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&t=Compiling%20C%20code%20using%20GCC" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#headline-1>Basic compilation using GCC</a>
</li>
<li><a href=#headline-2>Name the output binary file</a>
</li>
<li><a href=#headline-3>Four Steps of compiling a c file to a executable binary</a>
<ul>
<li><a href=#headline-4>Preprocessing </a>
</li>
<li><a href=#headline-5>Compiling</a>
</li>
<li><a href=#headline-6>Assembling</a>
</li>
<li><a href=#headline-7>Linking</a>
</li>
</ul>
</li>
<li><a href=#headline-8>Other flags </a>
<ul>
<li><a href=#headline-9>-Wall</a>
</li>
<li><a href=#headline-10>-D</a>
</li>
<li><a href=#headline-11>-I</a>
</li>
<li><a href=#headline-12>-g </a>
</li>
</ul>
</li>
<li><a href=#headline-13>Optimization</a>
<ul>
<li><a href=#headline-14>Significance test on the running time difference between the program compiled with -O2 and -O3 </a>
</li>
<li><a href=#headline-15>Code, Script, and Results</a>
</li>
</ul>
</li>
<li><a href=#headline-16>Different ways of performing matrix multiplication </a>
<ul>
<li><a href=#headline-17>jki</a>
</li>
<li><a href=#headline-18>kij</a>
</li>
<li><a href=#headline-19>ijk</a>
</li>
<li><a href=#headline-20>Comparison</a>
</li>
</ul>
</li>
<li><a href=#headline-21>Different optimization flags on different sizes of matrix</a>
</li>
<li><a href=#headline-22>-ftree-vectorize</a>
</li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
Compiling C code using GCC
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2020-08-17 00:00:00 +0000 UTC" itemprop=datePublished>2020-08-17</time>
</div>
<div class=article-read-time>
<i class="far fa-clock"></i>
9 minute read
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/compiler rel=tag>Compiler</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<div id=outline-container-headline-1 class=outline-2>
<h2 id=headline-1>
Basic compilation using GCC
</h2>
<div id=outline-text-headline-1 class=outline-text-2>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>gcc matrix.c</code></pre></div>
</div>
<p>This command outputs a executable binary named <code class=verbatim>a.out</code>, which can be executed in the shell by <code class=verbatim>./a.out</code>.</p>
</div>
</div>
<div id=outline-container-headline-2 class=outline-2>
<h2 id=headline-2>
Name the output binary file
</h2>
<div id=outline-text-headline-2 class=outline-text-2>
<p><code class=verbatim>a.out</code> may not be a great name for the your binary, and using <code class=verbatim>mv</code> to rename a file every time after compilation is tedious. The <code class=verbatim>-o</code> flag allows users to name the output binary.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>gcc matrix.c -o matrix</code></pre></div>
</div>
<p>Run the program by <code class=verbatim>./matrix</code>.</p>
</div>
</div>
<div id=outline-container-headline-3 class=outline-2>
<h2 id=headline-3>
Four Steps of compiling a c file to a executable binary
</h2>
<div id=outline-text-headline-3 class=outline-text-2>
<ol>
<li>Preprocessing</li>
<li>Compiling </li>
<li>Assembly</li>
<li>Linking</li>
</ol>
<div id=outline-container-headline-4 class=outline-3>
<h3 id=headline-4>
Preprocessing
</h3>
<div id=outline-text-headline-4 class=outline-text-3>
<p>First step of a compilation process in which <code class=verbatim>header</code> files are swapped in, <code class=verbatim>macros</code> are substituted with its actual value, and <code class=verbatim>conditional compilation</code> is handled.
The module which does the preprocessing is called preprocessor (<code class=verbatim>cpp</code>) whose input is a <code class=verbatim>c file</code> and output is a also a <code class=verbatim>c file</code>. To see the output of preprocessor, use the <code class=verbatim>-E</code> flag.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>gcc matrix.c -E -o matrix.i</code></pre></div>
</div>
<p><code class=verbatim>matrix.i</code> contains the preprocessed code.</p>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#6272a4>// original code
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span style=color:#6272a4></span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;stdlib.h&gt;</span><span style=color:#ff79c6>
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;stdio.h&gt;</span><span style=color:#ff79c6>
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span style=color:#ff79c6></span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span style=color:#ff79c6>typedef</span> <span style=color:#ff79c6>struct</span> matrix_container {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>    <span style=color:#8be9fd>int</span> row;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>    <span style=color:#8be9fd>int</span> col;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>    <span style=color:#8be9fd>int</span> <span style=color:#ff79c6>**</span>matrix;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>} Matrix;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span style=color:#6272a4>// preprocessed code
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span style=color:#6272a4></span><span style=color:#ff79c6># 422 &#34;/usr/local/Cellar/gcc/10.1.0/lib/gcc/10/gcc/x86_64-apple-darwin19/10. 1.0/include</span><span style=color:#ff79c6>-fixed/stdio.h&#34; 2 3 4</span><span style=color:#ff79c6>
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span style=color:#ff79c6># 3 &#34;matrix.c&#34; 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span style=color:#ff79c6></span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span style=color:#ff79c6># 4 &#34;matrix.c&#34;
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span style=color:#ff79c6></span><span style=color:#ff79c6>typedef</span> <span style=color:#ff79c6>struct</span> matrix_container {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span>    <span style=color:#8be9fd>int</span> row;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span>    <span style=color:#8be9fd>int</span> col;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span>    <span style=color:#8be9fd>int</span> <span style=color:#ff79c6>**</span>matrix;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span>} Matrix;</code></pre></div>
</div>
<p>It can be seen that there is no more <code class=verbatim>#include</code> in the preprocessed file.</p>
</div>
</div>
<div id=outline-container-headline-5 class=outline-3>
<h3 id=headline-5>
Compiling
</h3>
<div id=outline-text-headline-5 class=outline-text-3>
<p>Second step of a compilation process. The <code class=verbatim>compiler</code> (<code class=verbatim>cc1</code>) takes a preprocessed c file as an input and outputs a <code class=verbatim>.s</code> assembly program which contains the assembly code of the target machine.
For example, my machine has an <code class=verbatim>intel</code> CPU. Therefore, the assembly program generated by the <code class=verbatim>compiler</code> (<code class=verbatim>cc1</code>) is in <code class=verbatim>x86-64</code> instruction set. Adding the <code class=verbatim>-m32</code> flag forces the compiler to generate <code class=verbatim>IA-32</code> assembly code.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>gcc matrix.c -S -o matrix.s</code></pre></div>
</div>
<p>output, content of matrix.s</p>
<div class="src src-x86-64">
<pre tabindex=0><code class=language-x86-64 data-lang=x86-64>L1$pb:
  subl    $12, %esp
  leal    lC0-L1$pb(%ebx), %eax
  pushl   %eax
  call    _puts
  addl    $16, %esp
  movl    $0, -12(%ebp)
  jmp L2
L5:
  movl    $0, -16(%ebp)
  jmp L3
L4:
  movl    8(%ebp), %eax</code></pre>
</div>
</div>
</div>
<div id=outline-container-headline-6 class=outline-3>
<h3 id=headline-6>
Assembling
</h3>
<div id=outline-text-headline-6 class=outline-text-3>
<p>The <code class=verbatim>assemblar</code> (<code class=verbatim>as</code>) converts the assembly program to the relocatable object program, which is a binary but non-executable file. The reason why the binary cannot be executed is that assembly code for functions like <code class=verbatim>printf()</code> that is not written by you is not included.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>gcc matrix.c -c -o matrix.o</code></pre></div>
</div>
</div>
</div>
<div id=outline-container-headline-7 class=outline-3>
<h3 id=headline-7>
Linking
</h3>
<div id=outline-text-headline-7 class=outline-text-3>
<p>The <code class=verbatim>linker</code> (<code class=verbatim>ld</code>) gathers all relocatable files and combines them into a single executable binary file. It takes relocatable object files as input and output the final executable binary. It can be seen that the output of <code class=verbatim>linker</code> is larger than the output of <code class=verbatim>assemblar</code>, which does not include binary of other relocatable object files. There is no special flag for the <code class=verbatim>linker</code>.
<code class=verbatim>matrix</code>, the executable binary, is larger than <code class=verbatim>matrix.o</code> (13128 > 3772).</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>-rwxr-xr-x  1 yichen  13128 Jul 30 23:32 matrix
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>-rw-r--r--  1 yichen   3772 Jul 31 02:49 matrix.o</code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-8 class=outline-2>
<h2 id=headline-8>
Other flags
</h2>
<div id=outline-text-headline-8 class=outline-text-2>
<div id=outline-container-headline-9 class=outline-3>
<h3 id=headline-9>
-Wall
</h3>
<div id=outline-text-headline-9 class=outline-text-3>
<p>Output all warnings. If I introduce a unused variable</p>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span> <span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>(<span style=color:#8be9fd>void</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>     Matrix <span style=color:#ff79c6>*</span>matrices[<span style=color:#bd93f9>2</span>];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>     <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>2</span>; i<span style=color:#ff79c6>++</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>         matrices[i] <span style=color:#ff79c6>=</span> create_matrix();
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>     
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>     Matrix <span style=color:#ff79c6>*</span>result <span style=color:#ff79c6>=</span> multiply_matrix(matrices[<span style=color:#bd93f9>0</span>], matrices[<span style=color:#bd93f9>1</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>     print_matrix(result);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>     Matrix <span style=color:#ff79c6>*</span>mat; <span style=color:#6272a4>// unused variable
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span style=color:#6272a4></span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>     free_matrix(result);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>     free_matrix(matrices[<span style=color:#bd93f9>0</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>     free_matrix(matrices[<span style=color:#bd93f9>1</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>     <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span> }</code></pre></div>
</div>
<p>compiling without <code class=verbatim>-Wall</code> flag, <code class=verbatim>GCC</code> does not have any output</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>➜  matrix_hw gcc-10 matrix.c -o matrix
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>➜  matrix_hw</code></pre></div>
</div>
<p>compiling with <code class=verbatim>-Wall</code> flag, <code class=verbatim>GCC</code> outputs a warning message</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>➜  matrix_hw gcc-10 matrix.c -o matrix -Wall
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>matrix.c: In function &#39;main&#39;:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>matrix.c:106:13: warning: unused variable &#39;mat&#39; [-Wunused-variable]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>  106 |     Matrix *mat;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>      |             ^~~</code></pre></div>
</div>
</div>
</div>
<div id=outline-container-headline-10 class=outline-3>
<h3 id=headline-10>
-D
</h3>
<div id=outline-text-headline-10 class=outline-text-3>
<p>-D [marco name]=[marco value] is equivalent to adding #define [marco name]=[macro value] to the source code.</p>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>(<span style=color:#8be9fd>void</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span> Matrix <span style=color:#ff79c6>*</span>matrices[SIZE];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span> <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> SIZE; i<span style=color:#ff79c6>++</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>     matrices[i] <span style=color:#ff79c6>=</span> create_matrix();
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span> 
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span> Matrix <span style=color:#ff79c6>*</span>result <span style=color:#ff79c6>=</span> multiply_matrix(matrices[<span style=color:#bd93f9>0</span>], matrices[<span style=color:#bd93f9>1</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span> print_matrix(result);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span> free_matrix(result);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span> free_matrix(matrices[<span style=color:#bd93f9>0</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span> free_matrix(matrices[<span style=color:#bd93f9>1</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span> <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>}</code></pre></div>
</div>
<p>The source code does not define <code class=verbatim>SIZE</code>. Hence, compiling without <code class=verbatim>-D</code> flag results an error.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>matrix.c: In function &#39;main&#39;:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>matrix.c:99:22: error: &#39;SIZE&#39; undeclared (first use in this function)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>99 |     Matrix *matrices[SIZE];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>   |                      ^~~~
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>matrix.c:99:22: note: each undeclared identifier is reported only once for each function it appears in</code></pre></div>
</div>
<p>Using the <code class=verbatim>-D</code> flag.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>gcc-10 matrix.c -o matrix -D SIZE=2</code></pre></div>
</div>
</div>
</div>
<div id=outline-container-headline-11 class=outline-3>
<h3 id=headline-11>
-I
</h3>
<div id=outline-text-headline-11 class=outline-text-3>
<p><code class=verbatim>-I [dir]</code> adding extra header directory. <code class=verbatim>GCC</code> finds header files in the current directory or in <code class=verbatim>usr/include/</code>. Compiling the source code that includes header file that is in other directory results an error.</p>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&#34;matrix_op.h&#34;</span><span style=color:#ff79c6>
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span style=color:#ff79c6>#define SIZE 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span style=color:#ff79c6></span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>(<span style=color:#8be9fd>void</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span> Matrix <span style=color:#ff79c6>*</span>matrices[SIZE];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span> <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> SIZE; i<span style=color:#ff79c6>++</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>     matrices[i] <span style=color:#ff79c6>=</span> create_matrix();
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span> 
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span> Matrix <span style=color:#ff79c6>*</span>result <span style=color:#ff79c6>=</span> multiply_matrix(matrices[<span style=color:#bd93f9>0</span>], matrices[<span style=color:#bd93f9>1</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span> print_matrix(result);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span> free_matrix(result);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span> free_matrix(matrices[<span style=color:#bd93f9>0</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span> free_matrix(matrices[<span style=color:#bd93f9>1</span>]);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span> <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span>}</code></pre></div>
</div>
<p><code class=verbatim>matrix_op.h</code> is not in <code class=verbatim>.</code> nor <code class=verbatim>usr/include</code>. It is in <code class=verbatim>./include</code>.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>➜  matrix_hw ls
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>include     matrix      matrix.c
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>➜  matrix_hw ls include
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>matrix_op.h</code></pre></div>
</div>
<p>Compile the code results an error.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>➜  matrix_hw gcc-10 matrix.c matrix_op.c -o matrix
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>matrix.c:1:10: fatal error: matrix_op.h: No such file or directory
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>    1 | #include &#34;matrix_op.h&#34;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>      |          ^~~~~~~~~~~~~
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>compilation terminated.
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span>matrix_op.c:3:10: fatal error: matrix_op.h: No such file or directory
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span>    3 | #include &#34;matrix_op.h&#34;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span>      |          ^~~~~~~~~~~~~
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">9</span>compilation terminated.</code></pre></div>
</div>
<p>To compile it, add <code class=verbatim>-I [header dir]</code>.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>matrix_hw gcc-10 matrix.c matrix_op.c -o matrix -I./include</code></pre></div>
</div>
</div>
</div>
<div id=outline-container-headline-12 class=outline-3>
<h3 id=headline-12>
-g
</h3>
<div id=outline-text-headline-12 class=outline-text-3>
<p>With <code class=verbatim>-g</code>, <code class=verbatim>GCC</code> compiles code with debug information, which is helpful when using debugger like <code class=verbatim>GDB</code> or <code class=verbatim>LLDB</code>.
Setting breakpoints using filename and line number in <code class=verbatim>LLDB</code>, with binary that compiled without <code class=verbatim>-g</code> flag.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>(lldb) b matrix.c:9
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>Breakpoint 1: no locations (pending).
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>WARNING:  Unable to resolve breakpoint to any actual locations.</code></pre></div>
</div>
<p>Setting breakpoints using filename and line number in <code class=verbatim>LLDB</code>, with binary that compiled with <code class=verbatim>-g</code> flag.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>(lldb) b matrix.c:9
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>Breakpoint 1: where = matrix`main + 48 at matrix.c:9:22, address = 0x0000000100000724</code></pre></div>
</div>
<p>It is more easier to debug, setting breakpoints, for example, with binary that compiled with <code class=verbatim>-g</code> flag.</p>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-13 class=outline-2>
<h2 id=headline-13>
Optimization
</h2>
<div id=outline-text-headline-13 class=outline-text-2>
<p>To see the optimization results, I wrote a program that does matrix multiplication of different size of matrices. Each run of the program is going to output the time it takes to finish the job. Then, I use a python script to run the program for 100 times, and calculate the mean, standard deviation, and total time. Since $N = 100$ is greater than 30, the sampling distribution is normal.</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th class=align-right>Average time (sec)</th>
<th class=align-right>Standard Deviation</th>
<th class=align-right>Compilation Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td class=align-right>0.55726</td>
<td class=align-right>0.035869</td>
<td class=align-right>0.195</td>
</tr>
<tr>
<td>-O</td>
<td class=align-right>0.200644</td>
<td class=align-right>0.006497</td>
<td class=align-right>0.212</td>
</tr>
<tr>
<td>-O2</td>
<td class=align-right>0.079052</td>
<td class=align-right>0.002817</td>
<td class=align-right>0.286</td>
</tr>
<tr>
<td>-O3</td>
<td class=align-right>0.077760</td>
<td class=align-right>0.003685</td>
<td class=align-right>0.477</td>
</tr>
</tbody>
</table>
<p>It can be seen that program compiled with <code class=verbatim>-O</code> flag is running significantly faster than program compiled without optimization flag.
And program compiled with <code class=verbatim>-O2</code> is running significantly faster than program compiled with <code class=verbatim>-O1</code> flag.
Moreover, the compilation time increases as more optimizations are applied.</p>
<div id=outline-container-headline-14 class=outline-3>
<h3 id=headline-14>
Significance test on the running time difference between the program compiled with -O2 and -O3
</h3>
<div id=outline-text-headline-14 class=outline-text-3>
<p>Test at $\alpha = 0.01$
\begin{align*}
H_0: μ_1 = μ_2 <br>
H_1: μ_1 > μ_2
\end{align*}
where $\mu_1$ is the true mean of running time of program compiled with <code class=verbatim>-O2</code> flag and $\mu_2$ is the true mean of running time of program compiled with <code class=verbatim>-O3</code> flag.</p>
<p>
\begin{align*}
z &= \frac{\bar{x_1} - \bar{x_2}}{\sqrt{\frac{σ^2_1}{n_1} + \frac{σ^2_2}{n_2}}}<br>
&= \frac{0.079052 - 0.077760}{\sqrt{\frac{0.002817^2}{100} + \frac{0.003685^2}{100}}} <br>
&= \frac{0.001292}{0.000464} <br>
&= 2.78
\end{align*}
Since $z = 2.78$ is greater than <code class=verbatim>2.575</code>, we reject the $H_0$. There is enough evidence showing that the matrix program compiled with <code class=verbatim>-O3</code> flag has significant shorter running time than the program compiled with <code class=verbatim>-O2</code> flag.</p>
</div>
</div>
<div id=outline-container-headline-15 class=outline-3>
<h3 id=headline-15>
Code, Script, and Results
</h3>
<div id=outline-text-headline-15 class=outline-text-3>
<p>Test code:</p>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span>  <span style=color:#ff79c6>struct</span> timeval tic, toc;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>  gettimeofday(<span style=color:#ff79c6>&amp;</span>tic, <span style=color:#8be9fd;font-style:italic>NULL</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>  <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>100</span>; i<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>Matrix <span style=color:#ff79c6>*</span>A <span style=color:#ff79c6>=</span> dummy_matrix(i, i <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>5</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>Matrix <span style=color:#ff79c6>*</span>B <span style=color:#ff79c6>=</span> dummy_matrix(i <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>5</span>, i);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>multiply_matrix(A, B);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>free_matrix(A);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>free_matrix(B);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>  }
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>  gettimeofday(<span style=color:#ff79c6>&amp;</span>toc, <span style=color:#8be9fd;font-style:italic>NULL</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>  printf(<span style=color:#f1fa8c>&#34;%lu&#34;</span>, (toc.tv_sec <span style=color:#ff79c6>-</span> tic.tv_sec) <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>1000000</span> <span style=color:#ff79c6>+</span> toc.tv_usec <span style=color:#ff79c6>-</span> tic.tv_usec);</code></pre></div>
</div>
<p>Test script:</p>
<div class="src src-python">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>import</span> os
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span style=color:#ff79c6>import</span> math
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span style=color:#ff79c6>import</span> subprocess
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>N <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>100</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>results <span style=color:#ff79c6>=</span> []
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span style=color:#ff79c6>for</span> i <span style=color:#ff79c6>in</span> <span style=color:#8be9fd;font-style:italic>range</span>(<span style=color:#bd93f9>0</span>, N):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>  result <span style=color:#ff79c6>=</span> subprocess<span style=color:#ff79c6>.</span>check_output(<span style=color:#f1fa8c>&#39;./matrix&#39;</span>, shell<span style=color:#ff79c6>=</span><span style=color:#ff79c6>True</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>  result <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>int</span>(result) <span style=color:#ff79c6>/</span> <span style=color:#bd93f9>1000000</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>  results<span style=color:#ff79c6>.</span>append(result)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>TOTAL <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>sum</span>(results)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>MEAN <span style=color:#ff79c6>=</span> TOTAL <span style=color:#ff79c6>/</span> N
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span style=color:#ff79c6>def</span> <span style=color:#50fa7b>process</span>(x):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span>  <span style=color:#ff79c6>return</span> (x <span style=color:#ff79c6>-</span> MEAN) <span style=color:#ff79c6>**</span> <span style=color:#bd93f9>2</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span>VAR <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>sum</span>(<span style=color:#8be9fd;font-style:italic>list</span>(<span style=color:#8be9fd;font-style:italic>map</span>(process, results))) <span style=color:#ff79c6>/</span> N
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span>SD <span style=color:#ff79c6>=</span> math<span style=color:#ff79c6>.</span>sqrt(VAR)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;-&#34;</span> <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>10</span>, <span style=color:#f1fa8c>&#34;Result&#34;</span>, <span style=color:#f1fa8c>&#34;-&#34;</span> <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>10</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;n = </span><span style=color:#f1fa8c>%d</span><span style=color:#f1fa8c>, sum = </span><span style=color:#f1fa8c>%f</span><span style=color:#f1fa8c>&#34;</span> <span style=color:#ff79c6>%</span> (N, TOTAL))
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;mean = </span><span style=color:#f1fa8c>%f</span><span style=color:#f1fa8c>&#34;</span> <span style=color:#ff79c6>%</span> MEAN)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;standard deviation = </span><span style=color:#f1fa8c>%f</span><span style=color:#f1fa8c>&#34;</span> <span style=color:#ff79c6>%</span> SD)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span style=color:#8be9fd;font-style:italic>print</span>(results)</code></pre></div>
</div>
<p>Result without optimization flag</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>---------- Result ----------
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>n = 100, sum = 55.726015
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>mean = 0.557260
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>standard deviation = 0.035869</code></pre></div>
</div>
<p>Result with <code class=verbatim>-O</code> flag</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>---------- Result ----------
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>n = 100, sum = 20.064405
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>mean = 0.200644
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>standard deviation = 0.006497</code></pre></div>
</div>
<p>Result with <code class=verbatim>-O2</code> flag</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>---------- Result ----------
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>n = 100, sum = 7.905217
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>mean = 0.079052
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>standard deviation = 0.002817</code></pre></div>
</div>
<p>Result with <code class=verbatim>-O3</code> flag</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>---------- Result ----------
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>n = 100, sum = 7.776048
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>mean = 0.077760
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>standard deviation = 0.003685</code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-16 class=outline-2>
<h2 id=headline-16>
Different ways of performing matrix multiplication
</h2>
<div id=outline-text-headline-16 class=outline-text-2>
<p><sup class=footnote-reference><a id=footnote-reference-1 href=#footnote-1>1</a></sup></p>
<div id=outline-container-headline-17 class=outline-3>
<h3 id=headline-17>
jki
</h3>
<div id=outline-text-headline-17 class=outline-text-3>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;</span> B<span style=color:#ff79c6>-&gt;</span>col; j<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span> <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> k <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; k <span style=color:#ff79c6>&lt;</span> B<span style=color:#ff79c6>-&gt;</span>row; k<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span style=color:#8be9fd>int</span> r <span style=color:#ff79c6>=</span> B<span style=color:#ff79c6>-&gt;</span>matrix[k][j];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> A<span style=color:#ff79c6>-&gt;</span>row; i<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>  C<span style=color:#ff79c6>-&gt;</span>matrix[i][j] <span style=color:#ff79c6>+=</span> A<span style=color:#ff79c6>-&gt;</span>matrix[i][k] <span style=color:#ff79c6>*</span> r;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span>}
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span> }
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span>}</code></pre></div>
</div>
<p>This program has the worst performance since it has the worst spatial locality. Suppose the cache can only hold a row of the matrix. Each inner iteration of the innermost loop would lead to a cache miss since; each iteration of the second-most-inner loop too would lead to a cache miss. A cache miss requires CPU to fetch data from memory via bus, which is time consuming comparing to using cache data.</p>
</div>
</div>
<div id=outline-container-headline-18 class=outline-3>
<h3 id=headline-18>
kij
</h3>
<div id=outline-text-headline-18 class=outline-text-3>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> k <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; k <span style=color:#ff79c6>&lt;</span> A<span style=color:#ff79c6>-&gt;</span>col; k<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span> <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> C<span style=color:#ff79c6>-&gt;</span>row; i<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span style=color:#8be9fd>int</span> r <span style=color:#ff79c6>=</span> A<span style=color:#ff79c6>-&gt;</span>matrix[i][k];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;</span> B<span style=color:#ff79c6>-&gt;</span>col; j<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>  C<span style=color:#ff79c6>-&gt;</span>matrix[i][j] <span style=color:#ff79c6>+=</span> r <span style=color:#ff79c6>*</span> B<span style=color:#ff79c6>-&gt;</span>matrix[k][j];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span>}
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span> }
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span>}</code></pre></div>
</div>
<p>This way of performing matrix multiplication has the best performance since the stride size is smaller and the program takes the advantages of both spatial and temporal locality.</p>
</div>
</div>
<div id=outline-container-headline-19 class=outline-3>
<h3 id=headline-19>
ijk
</h3>
<div id=outline-text-headline-19 class=outline-text-3>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> C<span style=color:#ff79c6>-&gt;</span>row; i<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span> <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;</span> C<span style=color:#ff79c6>-&gt;</span>col; j<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> k <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; k <span style=color:#ff79c6>&lt;</span> A<span style=color:#ff79c6>-&gt;</span>col; k<span style=color:#ff79c6>++</span>) {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>  C<span style=color:#ff79c6>-&gt;</span>matrix[i][j] <span style=color:#ff79c6>+=</span> A<span style=color:#ff79c6>-&gt;</span>matrix[i][k] <span style=color:#ff79c6>*</span> B<span style=color:#ff79c6>-&gt;</span>matrix[k][j];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>}
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span> }
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span>}</code></pre></div>
</div>
<p>This program has the moderate performance. </p>
</div>
</div>
<div id=outline-container-headline-20 class=outline-3>
<h3 id=headline-20>
Comparison
</h3>
<div id=outline-text-headline-20 class=outline-text-3>
<p>Here is a plot comparing the average task completion time of 50 runs of each ways of performing matrix multiplication. It can be seen that generally, <code class=verbatim>kij</code> has the best performance. It advantage is especially notable when the dimension of matrix is increasing, as more L1 cache is used.
<img src=./different_ways.png alt=./different_ways.png title=./different_ways.png></p>
</div>
</div>
</div>
</div>
<div id=outline-container-headline-21 class=outline-2>
<h2 id=headline-21>
Different optimization flags on different sizes of matrix
</h2>
<div id=outline-text-headline-21 class=outline-text-2>
<p><img src=./different_optimization.png alt=./different_optimization.png title=./different_optimization.png>
The plot indicates that <code class=verbatim>-03</code> has the best performance over all the other optimization rules. As the dimension of the matrix involved in the multiplication process increases, the advantage of <code class=verbatim>-O3</code> is more noticeable.
The reason that <code class=verbatim>-O3</code> has the best performance is that <code class=verbatim>-O3</code> attempts to vectorize loops, which are used abundantly in the operation of matrix multiplication. It uses more advanced instruction set that has better arithmetic performance.
It can be seen from the following image that <code class=verbatim>-O2</code> flag together with <code class=verbatim>ftree-vectorize</code> achieve the similar performance of <code class=verbatim>-O3</code>. This phenomenon indicates that vectorization has a great impact on program's performance.
<img src=vec-o2.png alt=vec-o2.png title=vec-o2.png>
Moreover, according to <code class=verbatim>GCC</code>, line <code class=verbatim>112</code> is optimized.</p>
<div class="src src-text">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>➜  code gcc-10 matrix_op.c main.c -o matrix_vec -ftree-vectorize -O2 -mavx -fopt-info-vec-optimized
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>matrix_op.c:112:3: optimized: loop vectorized using 16 byte vectors
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>matrix_op.c:112:3: optimized:  loop versioned for vectorization because of possible aliasing</code></pre></div>
</div>
<p>This line is corresponding to the following <code class=verbatim>C</code> code</p>
<div class="src src-c">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;</span> B<span style=color:#ff79c6>-&gt;</span>col; j<span style=color:#ff79c6>++</span>)</code></pre></div>
</div>
<p>Which is an essential part to the matrix multiplication.</p>
</div>
</div>
<div id=outline-container-headline-22 class=outline-2>
<h2 id=headline-22>
-ftree-vectorize
</h2>
<div id=outline-text-headline-22 class=outline-text-2>
<p>As mentioned above, the most significant optimization in <code class=verbatim>-O3</code> for the program is <code class=verbatim>-ftree-vectorize</code>.
Roughly speaking, when <code class=verbatim>-ftree-vectorize</code> is activated, <code class=verbatim>GCC</code> will try to convert normal loop into loop that utilizes <code class=verbatim>SIMD</code> built-in functions. The <code class=verbatim>tree-vectorizer</code> is going to analyze the loops and then transform the vectorizable loops into the designated form. Each loop and each statement in will be attached by <code class=verbatim>loop_vec_info</code> and <code class=verbatim>stmt_vec_info</code>.
When transforming loop, the program is going to scan every statements inside the loop and create a corresponding vector for everything needed to be vectorized.</p>
</div>
</div>
<div class=footnotes>
<hr class=footnotes-separatator>
<div class=footnote-definitions>
<div class=footnote-definition>
<sup id=footnote-1><a href=#footnote-reference-1>1</a></sup>
<div class=footnote-body>
<p><a href=https://blog.csdn.net/haolexiao/article/details/65936158>https://blog.csdn.net/haolexiao/article/details/65936158</a></p>
</div>
</div>
</div>
</div>
</div>
</article>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#headline-1>Basic compilation using GCC</a>
</li>
<li><a href=#headline-2>Name the output binary file</a>
</li>
<li><a href=#headline-3>Four Steps of compiling a c file to a executable binary</a>
<ul>
<li><a href=#headline-4>Preprocessing </a>
</li>
<li><a href=#headline-5>Compiling</a>
</li>
<li><a href=#headline-6>Assembling</a>
</li>
<li><a href=#headline-7>Linking</a>
</li>
</ul>
</li>
<li><a href=#headline-8>Other flags </a>
<ul>
<li><a href=#headline-9>-Wall</a>
</li>
<li><a href=#headline-10>-D</a>
</li>
<li><a href=#headline-11>-I</a>
</li>
<li><a href=#headline-12>-g </a>
</li>
</ul>
</li>
<li><a href=#headline-13>Optimization</a>
<ul>
<li><a href=#headline-14>Significance test on the running time difference between the program compiled with -O2 and -O3 </a>
</li>
<li><a href=#headline-15>Code, Script, and Results</a>
</li>
</ul>
</li>
<li><a href=#headline-16>Different ways of performing matrix multiplication </a>
<ul>
<li><a href=#headline-17>jki</a>
</li>
<li><a href=#headline-18>kij</a>
</li>
<li><a href=#headline-19>ijk</a>
</li>
<li><a href=#headline-20>Comparison</a>
</li>
</ul>
</li>
<li><a href=#headline-21>Different optimization flags on different sizes of matrix</a>
</li>
<li><a href=#headline-22>-ftree-vectorize</a>
</li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&text=Compiling%20C%20code%20using%20GCC" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&title=Compiling%20C%20code%20using%20GCC" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&is_video=false&description=Compiling%20C%20code%20using%20GCC" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Compiling%20C%20code%20using%20GCC&body=Check out this article: https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&title=Compiling%20C%20code%20using%20GCC" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&title=Compiling%20C%20code%20using%20GCC" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&name=Compiling%20C%20code%20using%20GCC&description=Basic%20compilation%20using%20GCC%20%201gcc%20matrix.c%20%20This%20command%20outputs%20a%20executable%20binary%20named%20a.out%2c%20which%20can%20be%20executed%20in%20the%20shell%20by%20.%2fa.out.%0a%20%20Name%20the%20output%20binary%20file%20%20a.out%20may%20not%20be%20a%20great%20name%20for%20the%20your%20binary%2c%20and%20using%20mv%20to%20rename%20a%20file%20every%20time%20after%20compilation%20is%20tedious.%20The%20-o%20flag%20allows%20users%20to%20name%20the%20output%20binary.%0a1gcc%20matrix.c%20-o%20matrix%20%20Run%20the%20program%20by%20." aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.mrr1vfe.io%2fposts%2fgcc-compiling%2f&t=Compiling%20C%20code%20using%20GCC" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2022 Yi Chen
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
<li><a href=https://archive.casouri.cat>BHL0388</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
<script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}}</script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
</html>